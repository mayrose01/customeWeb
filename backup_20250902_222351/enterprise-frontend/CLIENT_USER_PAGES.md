# 客户端用户页面功能说明

## 新增页面

### 1. 询价列表页面 (`/inquiries`)

**功能描述：**
- 显示用户提交的所有产品询价记录
- 需要用户登录才能访问
- 支持分页显示，每页显示10条记录

**页面特性：**
- **产品信息展示**：显示产品名称、型号、图片
- **询价详情**：显示询价人姓名、邮箱、电话、询价内容
- **时间信息**：显示询价提交时间
- **状态标识**：显示询价状态（已提交）
- **空状态处理**：当没有询价记录时显示友好提示
- **分页功能**：支持上一页/下一页导航

**API接口：**
- `GET /api/client-user/inquiries?page=1&page_size=10`
- 需要Authorization Bearer Token

**路由配置：**
```javascript
{
  path: '/inquiries',
  name: 'client-inquiries',
  component: ClientInquiries
}
```

### 2. 咨询列表页面 (`/consultations`)

**功能描述：**
- 显示用户提交的所有在线咨询记录
- 需要用户登录才能访问
- 支持分页显示，每页显示10条记录

**页面特性：**
- **咨询主题**：显示咨询主题（如果没有则显示"在线咨询"）
- **咨询详情**：显示咨询人姓名、邮箱、电话、咨询内容
- **时间信息**：显示咨询提交时间
- **状态标识**：显示咨询状态（已提交）
- **空状态处理**：当没有咨询记录时显示友好提示
- **分页功能**：支持上一页/下一页导航

**API接口：**
- `GET /api/client-user/consultations?page=1&page_size=10`
- 需要Authorization Bearer Token

**路由配置：**
```javascript
{
  path: '/consultations',
  name: 'client-consultations',
  component: ClientConsultations
}
```

## 页面访问方式

### 1. 通过用户下拉菜单
用户登录后，在页面右上角的用户头像下拉菜单中可以访问：
- **询价列表**：点击"询价列表"菜单项
- **咨询列表**：点击"咨询列表"菜单项

### 2. 直接访问URL
- 询价列表：`http://localhost:3000/inquiries`
- 咨询列表：`http://localhost:3000/consultations`

## 权限控制

- 两个页面都需要用户登录才能访问
- 未登录用户访问这些页面会被重定向到首页
- 页面会自动检查localStorage中的client_token

## 页面样式

### 响应式设计
- 桌面端：卡片式布局，信息展示完整
- 移动端：垂直布局，适配小屏幕

### 设计风格
- 与网站整体风格保持一致
- 使用蓝色主题配色
- 现代化卡片设计
- 友好的空状态提示

## 技术实现

### 前端技术栈
- Vue 3 Composition API
- Vue Router 路由管理
- 响应式CSS设计
- Fetch API 数据请求

### 后端支持
- FastAPI 后端API
- JWT Token 认证
- 分页查询支持
- 用户权限验证

## 数据流程

1. **页面加载**：检查用户登录状态
2. **API请求**：携带Token请求用户数据
3. **数据处理**：格式化日期、处理图片URL
4. **页面渲染**：展示询价/咨询列表
5. **分页交互**：用户点击分页按钮切换页面

## 错误处理

- **网络错误**：控制台输出错误信息
- **权限错误**：自动跳转到首页
- **数据为空**：显示友好的空状态提示
- **加载状态**：显示加载动画

## 测试建议

1. **登录测试**：确保只有登录用户能访问
2. **数据展示**：验证询价/咨询信息正确显示
3. **分页功能**：测试分页按钮正常工作
4. **响应式**：在不同设备上测试页面显示
5. **空状态**：测试无数据时的页面显示 